<script src="../../../test/cypress/integration/dashboard/dashboard_go_live_link_spec.js"></script>
<div class="govuk-grid-column-full flex-grid" data-click-events data-click-category="Dashboard" data-click-action="First steps link clicked">
  <div class="flex-grid--row">
    {% if 'demoPayment' in links %}
    <article class="{{linkBoxClasses.shift()}} links__box" id="demo-payment-link">
      <a href="{{routes.prototyping.demoPayment.index}}">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Make a demo payment</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Try the payment experience as a user. Then view the completed payment as an administrator on GOV.UK&nbsp;Pay.</p>
      </a>
    </article>
    {% endif %}

    {% if 'testPaymentLink' in links %}
    <article class="{{linkBoxClasses.shift()}} links__box" id="test-payment-link-link">
      <a href="{{routes.prototyping.demoService.index}}">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Test with your users</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Create a reusable link to integrate your service prototype with GOV.UK&nbsp;Pay and test with users.</p>
      </a>
    </article>
    {% endif %}

    {% if 'paymentLinks' in links %}
    <article class="{{linkBoxClasses.shift()}} links__box" id="payment-links-link">
      {% if permissions.tokens_create %}
      <a href="{{routes.paymentLinks.start}}">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Create and manage payment links</h2>
      {% else %}
      <a href="{{routes.paymentLinks.manage}}">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">View payment links</h2>
      {% endif %}
        <p class="govuk-body govuk-!-margin-bottom-0">A payment link lets you take card payments online, even if you don't have a digital&nbsp;service.</p>
      </a>
    </article>
    {% endif %}

    {% if 'directDebitPaymentFlow' in links %}
    <article class="{{linkBoxClasses.shift()}} links__box" id="payment-flow-link">
      <a href="https://docs.payments.service.gov.uk/payment_flow_overview/#making-a-payment">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">See the payment flow</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Get an overview of payment pages in our documentation.</p>
      </a>
    </article>
    {% endif %}

    {% if 'manageService' in links %}
    <article class="{{linkBoxClasses.shift()}} links__box" id="manage-service-link">
      <a href="/service/{{ currentService.externalId }}">
      {% if permissions.users_service_create %}
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Manage team members</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Administrators can manage team members in My&nbsp;services.</p>
      {% else %}
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Manage your service</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Add a new service and view team members in My&nbsp;services.</p>
      {% endif %}
      </a>
    </article>
    {% endif %}

    {% if 'goLive' in links %}
    <article class="{{linkBoxClasses.shift()}} links__box" id="request-to-go-live-link">
      {% if paymentMethod === 'direct debit' %}
      <a href="https://docs.payments.service.gov.uk/switching_to_live/#switching-to-live">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Next steps to go live</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Read our documentation to see how your service can go live with GOV.UK&nbsp;Pay.</p>
      </a>
      {% elif currentService.currentGoLiveStage === goLiveStage.NOT_STARTED %}
      <a href="/service/{{ currentService.externalId }}/request-to-go-live">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Request to go live</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Complete the process of going live and start taking real payments.</p>
      </a>
      {% elif currentService.currentGoLiveStage in [
      goLiveStage.ENTERED_ORGANISATION_NAME,
      goLiveStage.CHOSEN_PSP_STRIPE,
      goLiveStage.CHOSEN_PSP_WORLDPAY,
      goLiveStage.CHOSEN_PSP_SMARTPAY,
      goLiveStage.CHOSEN_PSP_EPDQ
      ] %}
      <a {% if currentService.currentGoLiveStage === goLiveStage.ENTERED_ORGANISATION_NAME -%}
         href="/service/{{ currentService.externalId }}/request-to-go-live/choose-how-to-process-payments" {%- else -%}
         href="/service/{{ currentService.externalId }}/request-to-go-live/agreement" {%- endif %}>
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Continue request to go live</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">Complete the process of going live and start taking real payments.</p>
      </a>
      {% elif currentService.currentGoLiveStage in [
      goLiveStage.TERMS_AGREED_STRIPE,
      goLiveStage.TERMS_AGREED_WORLDPAY,
      goLiveStage.TERMS_AGREED_SMARTPAY,
      goLiveStage.TERMS_AGREED_EPDQ
      ] %}
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">We are doing some checks</h2>
        <p class="govuk-body govuk-!-margin-bottom-0">We are in the process of making your account live.</p>
      {% endif %}
    </article>
    {% endif %}
  </div>
</div>
