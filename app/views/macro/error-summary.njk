{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% macro errorSummary(params) %}
  {% set errorList = [] %}
  {% for key, message in params.errors %}
    {% set href = ("#" + key) if params.keyIsHref else params.hrefs[key] %}
    {% set errorList = (errorList.push({
        text: message | safe,
        href: href
      }), errorList) %}
  {% endfor %}

  {% if errorList | length %}
    {{ govukErrorSummary({
        titleText: "There is a problem",
        errorList: errorList
      }) }}
  {% endif %}
{% endmacro %}