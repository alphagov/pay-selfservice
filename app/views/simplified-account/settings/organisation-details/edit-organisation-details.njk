{% extends "../settings-layout.njk" %}

{% block settingsPageTitle %}
  Organisation Details
{% endblock %}

{% block settingsContent %}
  <h1 class="govuk-heading-l">Organisation Details</h1>

  <p class="govuk-body govuk-!-margin-bottom-6">Payment card schemes require the details of the organisation taking payment to be shown on payment pages.</p>

  <form id="organisation-details-form" method="post" action="{{ submitLink }}" >
    <input id="csrf" name="csrfToken" type="hidden" value="{{ csrf }}"/>

    {{
      govukInput({
        label: {
          text: "Organisation name",
          classes: "govuk-label--l"
        },
        id: "organisation-name",
        name: "organisationName",
        hint: {
          html: "<p>Enter the main name of your organisation, not your local office or individual department.</p>
                <p>Write the organisation name in full. Only use acronyms that are widely understood (for example, NHS).</p>"
        },
        classes: "govuk-!-width-two-thirds"
      })
    }}

    {% call govukFieldset({
      legend: {
        text: "Organisation address",
        classes: "govuk-fieldset__legend--m",
        isPageHeading: false
      }
    }) %}

      {{ govukInput({
        label: {
          html: 'Building and street <span class="govuk-visually-hidden">line 1 of 2</span>'
        },
        hint: {
          text: "Cannot be a PO Box"
        },
        classes: "govuk-!-width-two-thirds",
        id: "address-line1",
        name: "address-line1",
        errorMessage: { text: errors['address-line1'] } if errors['address-line1'] else false,
        value: address_line1
      }) }}

      {{ govukInput({
        label: {
          html: '<span class="govuk-visually-hidden">Building and street line 2 of 2</span>'
        },
        classes: "govuk-!-width-two-thirds",
        id: "address-line2",
        name: "address-line2",
        errorMessage: { text: errors['address-line2'] } if errors['address-line2'] else false,
        value: address_line2
      }) }}

      {{ govukInput({
        label: {
          text: "Town or city"
        },
        classes: "govuk-!-width-one-half",
        id: "address-city",
        name: "address-city",
        errorMessage: { text: errors['address-city'] } if errors['address-city'] else false,
        value: address_city
      }) }}

      {{ govukSelect({
        id: "address-country",
        classes: "govuk-!-width-one-half",
        name: "address-country",
        errorMessage: { text: errors['address-country'] } if errors['address-country'] else false,
        label: {
          text: "Country"
        },
        items: countries
      }) }}

      {{ govukInput({
        label: {
          text: "Postcode"
        },
        classes: "govuk-input--width-10",
        id: "address-postcode",
        name: "address-postcode",
        errorMessage: { text: errors['address-postcode'] } if errors['address-postcode'] else false,
        value: address_postcode
      }) }}

    {% endcall %}

    {{ govukInput({
      value: telephone_number,
      label: {
        text: "Telephone number",
        classes: "govuk-label--m"
      },
      hint: {
        text: "Include the country code for international numbers"
      },
      errorMessage: { text: errors['telephone-number'] } if errors['telephone-number'] else false,
      id: "telephone-number",
      name: "telephone-number",
      classes: "govuk-!-width-two-thirds",
      type: "tel",
      autocomplete: "work tel"
    }) }}

    {{ govukInput({
      value: url,
      label: {
        text: "Organisation website address",
        classes: "govuk-label--m"
      },
      hint: {
        text: "Enter the address in full like https://www.example.com"
      },
      errorMessage: { text: errors.url } if errors.url else false,
      id: "url",
      name: "url",
      classes: "govuk-!-width-two-thirds",
      type: "url",
      autocomplete: "url",
      spellcheck: false
    }) }}

    {{ govukButton({
      text: "Save organisation details",
      attributes: {
        id: "save-merchant-details"
      }
    }) }}

  </form>

{% endblock %}
