{% extends "../settings-layout.njk" %}

{% block settingsPageTitle %}
  Email notifications - {{currentService.name}} {{currentGatewayAccount.full_type}}
{% endblock %}

{% block settingsContent %}

    {{ govukBackLink({
      text: "Back",
      href: backLink
    }) }}

    <form id="email-collection-mode" method="post" novalidate>
      <input id="csrf" name="csrfToken" type="hidden" value="{{csrf}}"/>

      {{
        govukRadios({
          idPrefix: 'mode',
          name: 'emailCollectionMode',
          fieldset: {
            legend: {
              text: 'Ask users for their email address',
              isPageHeading: true,
              classes: 'govuk-fieldset__legend--l govuk-!-font-weight-bold'
            }
          },
          items: [
            {
                value: emailCollectionModes.mandatory,
                html: 'On – as a mandatory field',
                label: {
                  classes: 'govuk-!-font-weight-bold'
                },
                checked: emailCollectionMode === emailCollectionModes.mandatory,
                hint: {
                  text: 'Users must enter an email address to complete a payment – they can receive notifications',
                  classes: 'hint-text'
                }
            },
            {
                value: emailCollectionModes.optional,
                html: 'On – as an optional field',
                label: {
                  classes: 'govuk-!-font-weight-bold'
                },
                checked: emailCollectionMode === emailCollectionModes.optional,
                hint: {
                  text: 'Users can choose to enter an email address – if they do, they can receive notifications',
                  classes: 'hint-text'
                }
            },
            {
                value: emailCollectionModes.no,
                html: 'Off',
                label: {
                  classes: 'govuk-!-font-weight-bold'
                },
                checked: emailCollectionMode === emailCollectionModes.no,
                hint: {
                  text: 'Users do not have the option to enter an email address – they will not receive notifications',
                  classes: 'hint-text'
                }
            }
          ]
        })
      }}
      {{ govukButton({
        text: 'Save changes'
      }) }}
    </form>

  </div>
{% endblock %}
