{% extends "simplified-account/services/service-layout.njk" %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/button/macro.njk" import govukButton %}


{% set servicePageTitle %}
  Change the unique part of the website address - Payment links - {{ serviceName }} - GOV.UK Pay
{% endset %}
{% block serviceContent %}
  <span class="govuk-caption-l">Create {{ serviceMode }} payment link {% if isWelsh %}(Welsh){% endif %}</span>
  <h1 class="govuk-heading-l">Change the unique part of the website address</h1>

  <form method="post">
    <input id="csrf" name="csrfToken" type="hidden" value="{{ csrf }}" />
    <div id="payment-name-path-hint" class="govuk-hint">
      The website address we automatically generated for this payment link is already taken. You need to choose a new
      one. It is currently <b>/{{ productNamePath | removeIndefiniteArticles | slugify }}</b>. This will not change the
      payment link title.
    </div>

    <span
      class="govuk-hint pay-text-black"
      style="background-color: #f3f3f3; border: 1px solid #b1b4b6; padding: 5px; display: inline; word-break: keep-all;
        line-height: 2; box-decoration-break: clone; -webkit-box-decoration-break: clone; margin-right: 10px;"
    >
      {{ friendlyURL }}/{{ currentService.name | removeIndefiniteArticles | slugify }}/
    </span>

    <div class="govuk-!-width-one-half" style="display: inline-block; margin-top: 5px;">
      {{
        govukInput({
          id: "payment-link",
          name: "paymentLink",
          value: formValues.paymentLink,
          errorMessage: { text: errors.formErrors['paymentLink'] } if errors.formErrors['paymentLink'] else false,
          spellcheck: false,
          type: "text",
          attributes: {
            "autocapitalize": "none",
            "autofocus": "true",
            "data-confirmation-filter": "slugify",
            "aria-describedby": "payment-name-path-hint"
          }
        })
      }}
    </div>

    <div class="govuk-button-group">
      {{
        govukButton({
          text: 'Continue',
          classes: 'button'
        })
      }}
      {{
        govukButton({
          text: "Change the title Instead",
          classes: "govuk-button--secondary",
          href: "/service/" + currentService.externalId + "/account/" + accountType + "/payment-links/create"
        })
      }}
    </div>
  </form>
{% endblock %}
